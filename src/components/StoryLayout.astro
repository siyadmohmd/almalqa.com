---
interface StoryImage {
  src: string;
  alt: string;
  caption?: string;
}

interface Props {
  images: StoryImage[];
}

const { images } = Astro.props;
---

<section class="py-16 md:py-24 px-4 md:px-8 bg-desert-sand">
  <div class="max-w-6xl mx-auto">
    <!-- Header -->
    <header class="text-center mb-16 md:mb-24">
      <h1 class="font-heading text-5xl md:text-7xl text-maroon mb-6">Our Story</h1>
      <p class="text-licorice/70 text-lg md:text-xl max-w-2xl mx-auto">
        Where heritage meets hospitality
      </p>
    </header>

    <!-- Editorial Layout -->
    <div class="space-y-24 md:space-y-32">
      <!-- Section 1 - Origin -->
      <article class="grid grid-cols-1 md:grid-cols-12 gap-8 md:gap-12 items-center">
        <div class="md:col-span-5 space-y-6">
          <h2 class="font-heading text-3xl md:text-4xl text-licorice">The Beginning</h2>
          <p class="text-licorice/80 leading-relaxed">
            Al-Malqa was born from a simple yet profound tradition: the Majlisâ€”a place where 
            families and friends gather to share stories, laughter, and of course, incredible food.
          </p>
          <p class="text-licorice/80 leading-relaxed">
            On a memorable 74th birthday celebration, our founder envisioned a restaurant that 
            would capture the warmth and authenticity of these gatherings, making them accessible 
            to everyone who walks through our doors.
          </p>
        </div>
        <div class="md:col-span-7">
          <figure class="relative">
            <div class="overflow-hidden rounded-3xl">
              <img
                src={images[0]?.src || "/images/story-1.webp"}
                alt={images[0]?.alt || "Al-Malqa origins"}
                class="w-full h-[400px] md:h-[500px] object-cover hover:scale-105 transition-transform duration-700"
                loading="lazy"
              />
            </div>
            {images[0]?.caption && (
              <figcaption class="mt-4 text-licorice/60 text-sm italic">
                {images[0].caption}
              </figcaption>
            )}
          </figure>
        </div>
      </article>

      <!-- Section 2 - Philosophy (Reversed) -->
      <article class="grid grid-cols-1 md:grid-cols-12 gap-8 md:gap-12 items-center">
        <div class="md:col-span-7 md:order-1 order-2">
          <figure class="relative">
            <div class="overflow-hidden rounded-3xl">
              <img
                src={images[1]?.src || "/images/story-2.webp"}
                alt={images[1]?.alt || "Al-Malqa kitchen"}
                class="w-full h-[400px] md:h-[500px] object-cover hover:scale-105 transition-transform duration-700"
                loading="lazy"
              />
            </div>
            {images[1]?.caption && (
              <figcaption class="mt-4 text-licorice/60 text-sm italic">
                {images[1].caption}
              </figcaption>
            )}
          </figure>
        </div>
        <div class="md:col-span-5 space-y-6 md:order-2 order-1">
          <h2 class="font-heading text-3xl md:text-4xl text-licorice">Our Philosophy</h2>
          <p class="text-licorice/80 leading-relaxed">
            Every dish we serve carries the weight of tradition and the spark of innovation. 
            We source the finest ingredients, honor time-tested recipes, and infuse each 
            plate with the passion that defines Qatari hospitality.
          </p>
          <p class="text-licorice/80 leading-relaxed">
            From our aromatic machboos to our tender lamb preparations, each meal is crafted 
            to transport you to the heart of the Arabian Peninsula.
          </p>
        </div>
      </article>

      <!-- Section 3 - Heritage Images Grid -->
      <article class="space-y-8">
        <div class="text-center">
          <h2 class="font-heading text-3xl md:text-4xl text-licorice mb-4">Rooted in Heritage</h2>
          <p class="text-licorice/80 max-w-2xl mx-auto">
            Qatar's rich culinary tradition lives in every corner of Al-Malqa
          </p>
        </div>
        
        <div class="grid grid-cols-2 md:grid-cols-3 gap-4 md:gap-6">
          {(images.slice(2, 5) || []).map((img, i) => (
            <figure class:list={[
              "overflow-hidden rounded-2xl",
              i === 0 ? "col-span-2 md:col-span-1" : ""
            ]}>
              <img
                src={img.src || `/images/story-${i + 3}.webp`}
                alt={img.alt || `Al-Malqa heritage ${i + 1}`}
                class="w-full h-[250px] md:h-[300px] object-cover hover:scale-105 transition-transform duration-700"
                loading="lazy"
              />
              {img.caption && (
                <figcaption class="mt-3 text-licorice/60 text-sm italic px-2">
                  {img.caption}
                </figcaption>
              )}
            </figure>
          ))}
        </div>
      </article>

      <!-- Call to Action -->
      <div class="text-center py-12">
        <p class="font-heading text-2xl md:text-3xl text-licorice mb-8">
          Come, be part of our story
        </p>
        <a
          href="#order"
          class="inline-flex items-center justify-center bg-maroon text-desert-sand font-medium px-8 py-4 rounded-2xl text-lg transition-all hover:bg-licorice hover:scale-105"
        >
          Order Your Experience
        </a>
      </div>
    </div>
  </div>
</section>
